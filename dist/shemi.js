// Generated by CoffeeScript 1.9.3
(function() {
  var Shemi;

  Shemi = (function() {
    function Shemi() {}

    Shemi.prototype.run = function() {
      var colors, migrate, program;
      program = require('commander');
      colors = require('colors');
      migrate = require('./migrate');
      program.version('0.1.3');
      program.command('help').description('help').action(function(cmd) {
        return program.help();
      });
      program.command('init').description('initialize project configuration').action(function(cmd) {
        return migrate.init();
      });
      program.command('migrate').description('migrate').action(function(cmd) {
        return migrate.run();
      });
      program.command('list').option('--all', 'Show all migrations. (Default)').option('--done', 'Show all migrations ran.').option('--do', 'Show all migrations to be ran.').description('list').action(function(cmd) {
        var type;
        if (cmd.done) {
          type = 'done';
        } else if (cmd["do"]) {
          type = 'do';
        } else {
          type = 'all';
        }
        return migrate.list(type);
      });
      program.parse(process.argv);
      if (!program.args.length) {
        return program.help();
      }
    };

    return Shemi;

  })();

  module.exports = (function(dir, alias) {
    return new Shemi;
  })();

}).call(this);
